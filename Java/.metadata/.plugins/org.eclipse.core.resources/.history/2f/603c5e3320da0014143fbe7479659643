package analyse;

import java.io.*;

public class Main {
	public static void main(String[] args){
		String chaine="";
		String fichier ="o.ppm";
		
		//lecture du fichier texte	
		try{
			InputStream ips=new FileInputStream(fichier); 
			InputStreamReader ipsr=new InputStreamReader(ips);
			BufferedReader br=new BufferedReader(ipsr);
			String ligne=br.readLine();
			ligne=br.readLine();
			
			
			String L_H [] ={"",""};
			
			int t=0;
			int l=0;
			for (int i=0 ;i<ligne.length(); i++ ){
				if (ligne.charAt(t) == ' '){
					t++;
					l++;
				}
				else{
					L_H[l]=L_H[l]+ligne.charAt(t);
					
					t++;
				}
				
			}
			int espace=0;
			int k =0;
			int j =0;
			String couleur="";
			String[][] image = new String[ Integer.parseInt(L_H[0])][ Integer.parseInt(L_H[1])];
			ligne=br.readLine();
			ligne=br.readLine();
			
			for (int i=0 ;i<Integer.parseInt(L_H[1]); i++ ){
				while (k<ligne.length()-1){
						while (espace !=3){
							if (ligne.charAt(k)==' '){
								espace++;
							}
							couleur=couleur+ligne.charAt(k);
							k++;
						}
						image[i][j]=couleur;
						j++;
						espace=0;
						couleur="";
						k++;
				}
				j=0;
				ligne=br.readLine();
				k=0;
			}
			br.close();
			int larg=0;
			int haut=0;
			int o=0;
			int b=0;
			String coul=image[0][0];

			while (b<Integer.parseInt(L_H[0])){
				while (o<Integer.parseInt(L_H[0])){

					if(image[b][o].equals("0 0 0 ")){
						
					}
					else{
						String p = image[b][o];
						b++;
						o++;
						coul=image[b][o];
						while (image[b][o].equals(p) || o<Integer.parseInt(L_H[0])){
							larg++;
							o++;
						}
//						while (image[b][o].equals(p) || b<Integer.parseInt(L_H[1])){
//							haut++;
//							b++;
//						}
//						
					}
					o++;
//				
				}
				b++;
			}
			System.out.println(haut +" "+ larg+" "+coul);
		}		
		catch (Exception e){
			System.out.println(e.toString());
		}
		
	}
}
